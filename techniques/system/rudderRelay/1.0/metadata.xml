<TECHNIQUE name="Rudder relay">
  <DESCRIPTION>Configure the relay components</DESCRIPTION>
  <SYSTEM>true</SYSTEM>
  <MULTIINSTANCE>false</MULTIINSTANCE>
  <USEMETHODREPORTING>true</USEMETHODREPORTING>

  <FILES>
    <FILE name="relayd/relayd.cf">
      <INCLUDED>true</INCLUDED>
    </FILE>
    <FILE name="relayd/relayd.conf.tpl">
      <OUTPATH>rudderRelay/1.0/relayd/relayd.conf.tpl</OUTPATH>
      <INCLUDED>false</INCLUDED>
    </FILE>
    <FILE name="relayd/logrotate.cf">
      <INCLUDED>true</INCLUDED>
    </FILE>
    <FILE name="relayd/relay-logrotate.mustache">
      <INCLUDED>false</INCLUDED>
    </FILE>
  </FILES>

  <BUNDLES>
    <NAME>system_rudder_relay_configuration</NAME>
  </BUNDLES>

  <SYSTEMVARS>
    <NAME>RUDDER_SERVER_ROLES</NAME>
  </SYSTEMVARS>

  <SECTIONS>
    <SECTION name="Rudder-relayd service" component="true" multivalued="true">
      <REPORTKEYS>
        <VALUE>Configuration permissions</VALUE>
        <VALUE>Configuration</VALUE>
        <VALUE>Enabled</VALUE>
        <VALUE>Started</VALUE>
        <VALUE>Log rotation</VALUE>
      </REPORTKEYS>
    </SECTION>
  </SECTIONS>
</TECHNIQUE>
